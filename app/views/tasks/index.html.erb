<!-- app/views/tasks/index.html.erb -->
  <div class="flex items-center justify-between">
    <h1>Tasks</h1>
    <%= link_to "New Task",
                new_task_path,
                data: {turbo_frame: "task_modal" },
                class: "btn" %>
  </div>

  <!-- Modal frame lives at top level (not inside any other <turbo-frame>) -->
  <%= turbo_frame_tag "task_modal" %>

  <!-- List container is a NORMAL div, NOT a frame -->
  <div id="tasks" class="mt-4">
    <div id="tasks-list" class="space-y-3">
      <% if @tasks.any? %>
        <%= render @tasks %>
      <% else %>
        <div class="card text-center">
          <p class="text-gray-600">No tasks yet.</p>
          <div class="mt-3">
            <%= link_to "Create your first task", new_task_path, data: {turbo_frame: "task_modal" }, class: "btn" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
