<!-- app/views/tasks/_show_modal.html.erb -->
<%= turbo_frame_tag "task_modal" do %>
  <!-- Backdrop overlay -->
  <div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4">
    <!-- Modal panel -->
    <div class="bg-white w-full max-w-lg rounded-lg shadow-xl">
      <div class="px-5 py-4 border-b flex items-center justify-between">
        <h2 class="text-lg font-semibold"><%= task.title %></h2>
        <button type="button" class="text-gray-500 hover:text-gray-700" onclick="document.getElementById('task_modal').innerHTML=''">âœ•</button>
      </div>
      <div class="p-5">
        <% if task.description.present? %>
          <p class="mb-3 text-gray-700 whitespace-pre-line"><%= task.description %></p>
        <% end %>
        <div class="mb-4 text-sm text-gray-600 space-y-1">
          <div><span class="font-medium">Status:</span> <%= task.status %></div>
          <div><span class="font-medium">Due:</span> <%= l(task.due_date, format: :long) if task.due_date %></div>
          <div><span class="font-medium">Priority:</span> <%= task.priority %></div>
        </div>
        <div class="flex gap-3">
          <%= link_to "Edit", edit_task_path(task), data: { turbo_frame: "task_modal" }, class: "inline-flex items-center px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700" %>
          <%= link_to "Delete", task_path(task), data: { turbo_method: :delete, turbo_confirm: "Delete this task?", turbo_frame: "_top" }, class: "inline-flex items-center px-3 py-2 rounded bg-red-600 text-white hover:bg-red-700" %>
          <button type="button" class="inline-flex items-center px-3 py-2 rounded bg-gray-200 text-gray-800 hover:bg-gray-300" onclick="document.getElementById('task_modal').innerHTML=''">Close</button>
        </div>
      </div>
    </div>
  </div>
<% end %>
